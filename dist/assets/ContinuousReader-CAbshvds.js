import{t as E,b as i,Q as P,w as e,y as _,x as T,R as L,N as C,U as F,V as O,K as G,H as q,F as Y,_ as k}from"./index-CKxKY97k.js";import{P as $}from"./play-BmcT4u72.js";import{A as W}from"./arrow-left-KrMbnvik.js";import{P as U}from"./plus-CXuypje4.js";import{C as X}from"./clock-CZODH_I_.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"wc6myp"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]],Z=E("hand-metal",K);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M5 12h14",key:"1ays0h"}]],J=E("minus",B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],ee=E("pause",Q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],se=E("smartphone",te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ne=E("square",re);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],oe=E("volume-2",ae),ie=(o,u,p)=>{const t=o[u];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((l,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+u+(u.split("/").length!==p?". Note that variables only represent file names one level deep.":""))))})};function ce(){const[o,u]=i.useState("up"),[p,t]=i.useState(0);return i.useEffect(()=>{const l=()=>{const n=window.scrollY,m=n>p?"down":"up";m!==o&&Math.abs(n-p)>10&&u(m),t(n>0?n:0)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[o,p]),o}function le(o){const u=i.useRef(null),p=i.useRef(null),t=i.useRef(0),l=i.useRef(null),n=i.useRef(null);i.useRef(null);const[m,S]=P("crod-babylon-gestures",{enabled:!0,swipeThreshold:50,doubleTapDelay:300,longPressDelay:500});return i.useEffect(()=>{const g=u.current;if(!g||!m.enabled)return;let x=0;const y=c=>{const h=c.touches[0]||c.changedTouches[0];return{x:h.clientX,y:h.clientY}},b=(c,h)=>{const s=c.clientX-h.clientX,r=c.clientY-h.clientY;return Math.sqrt(s*s+r*r)},v=c=>{const h=y(c),s=Date.now();if(c.touches.length===2){x=b(c.touches[0],c.touches[1]);return}p.current={x:h.x,y:h.y,time:s},l.current&&(clearTimeout(l.current),l.current=null),n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{o.onLongPress&&o.onLongPress()},m.longPressDelay)},j=c=>{if(c.touches.length===2&&o.onPinchZoom){const h=b(c.touches[0],c.touches[1]);if(x>0){const s=h/x;o.onPinchZoom(s)}return}n.current&&(clearTimeout(n.current),n.current=null)},N=c=>{if(!p.current)return;if(n.current&&(clearTimeout(n.current),n.current=null),c.changedTouches.length>1){x=0;return}const h=y(c),s=p.current,r=h.x-s.x,a=h.y-s.y,w=Date.now()-s.time,f=Math.sqrt(r*r+a*a);if(f>m.swipeThreshold&&w<500){Math.abs(r)>Math.abs(a)?r>0&&o.onSwipeRight?o.onSwipeRight():r<0&&o.onSwipeLeft&&o.onSwipeLeft():a>0&&o.onSwipeDown?o.onSwipeDown():a<0&&o.onSwipeUp&&o.onSwipeUp(),p.current=null;return}f<10&&w<500&&(t.current++,t.current===1?l.current=setTimeout(()=>{t.current=0},m.doubleTapDelay):t.current===2&&(l.current&&(clearTimeout(l.current),l.current=null),t.current=0,o.onDoubleTap&&o.onDoubleTap())),p.current=null};return g.addEventListener("touchstart",v,{passive:!1}),g.addEventListener("touchmove",j,{passive:!1}),g.addEventListener("touchend",N,{passive:!1}),()=>{g.removeEventListener("touchstart",v),g.removeEventListener("touchmove",j),g.removeEventListener("touchend",N),l.current&&clearTimeout(l.current),n.current&&clearTimeout(n.current)}},[o,m]),{elementRef:u,gestureSettings:m,updateGestureSettings:S}}function de(o){const[u,p]=P("crod-babylon-theme",{enableDynamicTheming:!0,enableParticles:!0,enableMoodLighting:!0,intensity:.7}),t={"forbidden-desire":{background:"from-red-950 via-red-900 to-black",accent:"text-red-300",border:"border-red-800",particles:"red",mood:"romantic",atmosphere:{primary:"rgba(220, 38, 38, 0.1)",secondary:"rgba(239, 68, 68, 0.05)",glow:"drop-shadow(0 0 20px rgba(220, 38, 38, 0.3))"}},"moonlight-academy":{background:"from-purple-950 via-blue-900 to-black",accent:"text-purple-300",border:"border-purple-800",particles:"purple",mood:"fantasy",atmosphere:{primary:"rgba(147, 51, 234, 0.1)",secondary:"rgba(168, 85, 247, 0.05)",glow:"drop-shadow(0 0 20px rgba(147, 51, 234, 0.3))"}},"code-breakers":{background:"from-green-950 via-emerald-900 to-black",accent:"text-green-300",border:"border-green-800",particles:"green",mood:"modern",atmosphere:{primary:"rgba(34, 197, 94, 0.1)",secondary:"rgba(74, 222, 128, 0.05)",glow:"drop-shadow(0 0 20px rgba(34, 197, 94, 0.3))"}},"dream-catcher":{background:"from-indigo-950 via-purple-900 to-black",accent:"text-indigo-300",border:"border-indigo-800",particles:"indigo",mood:"mysterious",atmosphere:{primary:"rgba(99, 102, 241, 0.1)",secondary:"rgba(129, 140, 248, 0.05)",glow:"drop-shadow(0 0 20px rgba(99, 102, 241, 0.3))"}},"my-boss-is-a-cat":{background:"from-orange-950 via-amber-900 to-black",accent:"text-orange-300",border:"border-orange-800",particles:"orange",mood:"adventure",atmosphere:{primary:"rgba(249, 115, 22, 0.1)",secondary:"rgba(251, 146, 60, 0.05)",glow:"drop-shadow(0 0 20px rgba(249, 115, 22, 0.3))"}},"shadow-in-mirror":{background:"from-gray-950 via-slate-900 to-black",accent:"text-slate-300",border:"border-slate-800",particles:"gray",mood:"mysterious",atmosphere:{primary:"rgba(71, 85, 105, 0.1)",secondary:"rgba(100, 116, 139, 0.05)",glow:"drop-shadow(0 0 20px rgba(71, 85, 105, 0.3))"}},"the-transfer-student":{background:"from-pink-950 via-rose-900 to-black",accent:"text-pink-300",border:"border-pink-800",particles:"pink",mood:"romantic",atmosphere:{primary:"rgba(236, 72, 153, 0.1)",secondary:"rgba(244, 114, 182, 0.05)",glow:"drop-shadow(0 0 20px rgba(236, 72, 153, 0.3))"}},"between-the-lines":{background:"from-blue-950 via-cyan-900 to-black",accent:"text-blue-300",border:"border-blue-800",particles:"blue",mood:"dramatic",atmosphere:{primary:"rgba(59, 130, 246, 0.1)",secondary:"rgba(96, 165, 250, 0.05)",glow:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.3))"}},"cafe-encounters":{background:"from-yellow-950 via-amber-900 to-black",accent:"text-yellow-300",border:"border-yellow-800",particles:"yellow",mood:"modern",atmosphere:{primary:"rgba(245, 158, 11, 0.1)",secondary:"rgba(251, 191, 36, 0.05)",glow:"drop-shadow(0 0 20px rgba(245, 158, 11, 0.3))"}},"dangerous-attraction":{background:"from-violet-950 via-purple-900 to-black",accent:"text-violet-300",border:"border-violet-800",particles:"violet",mood:"dramatic",atmosphere:{primary:"rgba(139, 92, 246, 0.1)",secondary:"rgba(167, 139, 250, 0.05)",glow:"drop-shadow(0 0 20px rgba(139, 92, 246, 0.3))"}},"midnight-confessions":{background:"from-sky-950 via-blue-900 to-black",accent:"text-sky-300",border:"border-sky-800",particles:"sky",mood:"romantic",atmosphere:{primary:"rgba(14, 165, 233, 0.1)",secondary:"rgba(56, 189, 248, 0.05)",glow:"drop-shadow(0 0 20px rgba(14, 165, 233, 0.3))"}},"summer-temptation":{background:"from-teal-950 via-emerald-900 to-black",accent:"text-teal-300",border:"border-teal-800",particles:"teal",mood:"adventure",atmosphere:{primary:"rgba(20, 184, 166, 0.1)",secondary:"rgba(45, 212, 191, 0.05)",glow:"drop-shadow(0 0 20px rgba(20, 184, 166, 0.3))"}},default:{background:"from-slate-950 via-gray-900 to-black",accent:"text-slate-300",border:"border-slate-800",particles:"gray",mood:"modern",atmosphere:{primary:"rgba(71, 85, 105, 0.1)",secondary:"rgba(100, 116, 139, 0.05)",glow:"drop-shadow(0 0 20px rgba(71, 85, 105, 0.3))"}}},l=t[o]||t.default,[n,m]=i.useState(l);return i.useEffect(()=>{u.enableDynamicTheming?m(l):m(t.default)},[o,u.enableDynamicTheming]),{theme:n,themeSettings:u,updateThemeSettings:p}}function ue(o){const[u,p]=P("crod-babylon-reading-stats",{totalTimeRead:0,averageReadingSpeed:200,storiesCompleted:[],favoriteGenres:[],readingStreaks:0,lastReadDate:new Date().toDateString(),sessionsToday:0,sessionHistory:[]}),[t,l]=i.useState(null),[n,m]=i.useState([]),S=i.useRef(null),g=i.useRef(0),x=i.useRef(!1),y=i.useRef(Date.now()),b=s=>{if(t)return;const r=Date.now();l({storyId:s,startTime:r,chaptersRead:[],wordsRead:0,readingSpeed:200,pauseCount:0,totalPauseDuration:0}),S.current=r,x.current=!0,y.current=r;const w=new Date().toDateString();u.lastReadDate!==w?p(f=>({...f,lastReadDate:w,sessionsToday:1})):p(f=>({...f,sessionsToday:f.sessionsToday+1}))},v=(s,r)=>{t&&(g.current+=r,l(a=>a?{...a,chaptersRead:[...a.chaptersRead,s],wordsRead:g.current}:null))},j=()=>{const s=Date.now();x.current&&s-y.current>3e4&&l(r=>r?{...r,pauseCount:r.pauseCount+1,totalPauseDuration:r.totalPauseDuration+(s-y.current)}:null),y.current=s,x.current=!0},N=()=>{if(!t)return;const s=Date.now(),a=(s-t.startTime)/1e3/60-t.totalPauseDuration/1e3/60,w=a>0?t.wordsRead/a:200,f={...t,endTime:s,readingSpeed:w};p(R=>({...R,totalTimeRead:R.totalTimeRead+a,averageReadingSpeed:Math.round((R.averageReadingSpeed+w)/2),sessionHistory:[...R.sessionHistory.slice(-49),f]})),l(null),x.current=!1,c(f)},c=s=>{const r=[];s.readingSpeed>300?r.push({type:"speed",title:"Schneller Leser! 🚀",message:`Du liest mit ${Math.round(s.readingSpeed)} WPM - das ist überdurchschnittlich schnell!`,icon:"⚡",priority:"medium"}):s.readingSpeed<150&&r.push({type:"speed",title:"Gemütlicher Genießer 📚",message:"Du nimmst dir Zeit für jedes Detail - das ist perfekt für Romance Stories!",icon:"🌙",priority:"low"});const a=(s.endTime-s.startTime)/1e3/60;a>60&&r.push({type:"time",title:"Marathon-Leser! 🏃‍♀️",message:`${Math.round(a)} Minuten am Stück gelesen - beeindruckend!`,icon:"⏰",priority:"high"}),s.pauseCount===0&&a>20&&r.push({type:"completion",title:"Voll fokussiert! 🎯",message:"Keine Unterbrechung - du warst komplett in der Geschichte versunken!",icon:"🔥",priority:"medium"}),u.sessionsToday>=3&&r.push({type:"achievement",title:"Tägliche Leseratte! 📖",message:`${u.sessionsToday} Lesesitzungen heute - du liebst es wirklich!`,icon:"🏆",priority:"high"}),m(r)},h=()=>{const s=u.sessionHistory.slice(-10).map(a=>a.storyId).filter((a,w,f)=>f.indexOf(a)===w),r=[];return u.averageReadingSpeed>250&&s.length>0&&r.push({type:"recommendation",title:"Perfekt für dich! ✨",message:"Basierend auf deiner Lesegeschwindigkeit empfehlen wir längere Kapitel.",icon:"📚",priority:"medium"}),r};return i.useEffect(()=>{if(!t)return;const s=setInterval(()=>{j()},1e4);return()=>clearInterval(s)},[t]),i.useEffect(()=>{const s=()=>{document.hidden?x.current=!1:j()};return document.addEventListener("visibilitychange",s),()=>document.removeEventListener("visibilitychange",s)},[]),{stats:u,currentSession:t,insights:n,recommendations:h(),startSession:b,endSession:N,trackChapterRead:v,trackActivity:j,clearInsights:()=>m([])}}function me(){const[o,u]=i.useState(!1),[p,t]=i.useState(!1),[l,n]=i.useState(!1),[m,S]=i.useState([]),[g,x]=i.useState(""),y=i.useRef(null),[b,v]=P("crod-babylon-voice",{enabled:!1,rate:1,pitch:1,volume:.8,voice:""});return i.useEffect(()=>{if(typeof window<"u"&&"speechSynthesis"in window){u(!0);const r=()=>{const a=speechSynthesis.getVoices();if(S(a),!b.voice&&a.length>0){const w=a.find(f=>f.lang.startsWith("de")||f.name.toLowerCase().includes("german"));w&&v(f=>({...f,voice:w.name}))}};return r(),speechSynthesis.addEventListener("voiceschanged",r),()=>{speechSynthesis.removeEventListener("voiceschanged",r)}}},[]),{isSupported:o,isPlaying:p,isPaused:l,voices:m,currentText:g,voiceSettings:b,speak:r=>{if(!o||!b.enabled)return;speechSynthesis.cancel();const a=new SpeechSynthesisUtterance(r),w=m.find(f=>f.name===b.voice);w&&(a.voice=w),a.rate=b.rate,a.pitch=b.pitch,a.volume=b.volume,a.onstart=()=>{t(!0),n(!1),x(r)},a.onend=()=>{t(!1),n(!1),x("")},a.onerror=()=>{t(!1),n(!1),x("")},y.current=a,speechSynthesis.speak(a)},pause:()=>{speechSynthesis.speaking&&!speechSynthesis.paused&&(speechSynthesis.pause(),n(!0))},resume:()=>{speechSynthesis.paused&&(speechSynthesis.resume(),n(!1))},stop:()=>{speechSynthesis.cancel(),t(!1),n(!1),x("")},updateSettings:r=>{v(a=>({...a,...r}))}}}function he({text:o,className:u=""}){const[p,t]=i.useState(!1),{isSupported:l,isPlaying:n,isPaused:m,voices:S,voiceSettings:g,speak:x,pause:y,resume:b,stop:v,updateSettings:j}=me();if(!l||!g.enabled)return null;const N=()=>{n&&!m?y():m?b():x(o)};return e.jsxs("div",{className:_("relative",u),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T.button,{onClick:N,className:"flex items-center justify-center w-10 h-10 bg-purple-600/20 hover:bg-purple-600/30 backdrop-blur-sm rounded-full border border-purple-400/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:n&&!m?e.jsx(ee,{className:"w-5 h-5 text-purple-300"}):e.jsx($,{className:"w-5 h-5 text-purple-300"})}),n&&e.jsx(T.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:v,className:"flex items-center justify-center w-8 h-8 bg-red-600/20 hover:bg-red-600/30 backdrop-blur-sm rounded-full border border-red-400/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(ne,{className:"w-4 h-4 text-red-300"})}),e.jsx(T.button,{onClick:()=>t(!p),className:"flex items-center justify-center w-8 h-8 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full border border-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(L,{className:"w-4 h-4 text-white/60"})})]}),e.jsx(C,{children:p&&e.jsxs(T.div,{initial:{opacity:0,y:-10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},className:"absolute top-12 left-0 z-50 w-80 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-4",children:[e.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4"}),"Voice Einstellungen"]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs text-white/60 mb-1",children:["Geschwindigkeit: ",g.rate.toFixed(1),"x"]}),e.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:g.rate,onChange:c=>j({rate:Number(c.target.value)}),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs text-white/60 mb-1",children:["Lautstärke: ",Math.round(g.volume*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g.volume,onChange:c=>j({volume:Number(c.target.value)}),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Stimme"}),e.jsxs("select",{value:g.voice,onChange:c=>j({voice:c.target.value}),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-xs",children:[e.jsx("option",{value:"",className:"bg-gray-800",children:"Standard"}),S.filter(c=>c.lang.startsWith("de")||c.lang.startsWith("en")).map(c=>e.jsxs("option",{value:c.name,className:"bg-gray-800",children:[c.name," (",c.lang,")"]},c.name))]})]}),e.jsx("button",{onClick:()=>t(!1),className:"w-full bg-purple-600/20 hover:bg-purple-600/30 text-purple-300 py-2 px-3 rounded-lg text-xs font-medium transition-colors",children:"Schließen"})]})})]})}function pe({onVoiceToggle:o,onFavoriteToggle:u,onSettingsToggle:p,isReading:t=!1}){const[l,n]=i.useState(!1),[m,S]=i.useState(!1);i.useEffect(()=>{!localStorage.getItem("crod-babylon-gesture-hints-seen")&&t?(S(!1),setTimeout(()=>n(!0),2e3)):S(!0)},[t]);const g=()=>{n(!1),S(!0),localStorage.setItem("crod-babylon-gesture-hints-seen","true")},x=[{icon:"👆",text:"Doppeltippen: Einstellungen",action:"Double-tap"},{icon:"👈",text:"Wischen links: Nächstes Kapitel",action:"Swipe left"},{icon:"👉",text:"Wischen rechts: Zum Anfang",action:"Swipe right"},{icon:"✋",text:"Lang drücken: Favorit toggle",action:"Long press"}];return e.jsxs(e.Fragment,{children:[e.jsx(T.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:1,type:"spring",stiffness:260,damping:20},children:e.jsx(T.button,{onClick:()=>n(!l),className:"w-14 h-14 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-full shadow-lg flex items-center justify-center text-white",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Z,{className:"w-6 h-6"})})}),e.jsx(C,{children:l&&e.jsxs(T.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-24 right-6 z-50 w-80 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Touch Gesten"]}),e.jsx("button",{onClick:g,className:"text-white/60 hover:text-white text-2xl font-light",children:"×"})]}),e.jsx("div",{className:"space-y-3",children:x.map((y,b)=>e.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:y.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-sm",children:y.text}),e.jsx("div",{className:"text-white/60 text-xs",children:y.action})]})]},b))}),!m&&e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 pt-4 border-t border-white/10",children:e.jsx("button",{onClick:g,className:"w-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 hover:from-purple-600/30 hover:to-pink-600/30 text-purple-300 py-2 px-4 rounded-lg text-sm font-medium transition-colors",children:"Verstanden, nicht mehr zeigen"})})]})})]})}const ve=()=>{const{storyId:o}=F(),u=O(),p=ce(),[t,l]=i.useState(null),[n,m]=i.useState(!0),[S,g]=i.useState(null),[x,y]=P("crod-babylon-reading",{fontSize:18,fontFamily:"Inter"}),[b,v]=i.useState(!1),{toggleFavorite:j,isFavorite:N}=G(),c=t?N(t.id):!1,{theme:h,themeSettings:s,updateThemeSettings:r}=de(o||""),{startSession:a,endSession:w,trackChapterRead:f,trackActivity:R}=ue(),[M,I]=i.useState(""),{elementRef:V}=le({onSwipeLeft:()=>{if(t&&t.chapters.length>1){const d=document.querySelector('[data-chapter="'+t.chapters.length+'"]');d&&d.scrollIntoView({behavior:"smooth"})}},onSwipeRight:()=>{window.scrollTo({top:0,behavior:"smooth"})},onDoubleTap:()=>{v(!b)},onLongPress:()=>{t&&j(t.id)}});return i.useEffect(()=>((async()=>{if(o)try{m(!0);const D=await ie(Object.assign({"../data/stories/between-the-lines.json":()=>k(()=>import("./between-the-lines-D4GE7Rml.js"),[]),"../data/stories/cafe-encounters.json":()=>k(()=>import("./cafe-encounters-k7RKwROm.js"),[]),"../data/stories/code-breakers.json":()=>k(()=>import("./code-breakers-BT47id63.js"),[]),"../data/stories/dangerous-attraction.json":()=>k(()=>import("./dangerous-attraction-C2sgIKlS.js"),[]),"../data/stories/dream-catcher.json":()=>k(()=>import("./dream-catcher-DLYqpCT9.js"),[]),"../data/stories/forbidden-desire.json":()=>k(()=>import("./forbidden-desire-W41Lc0ls.js"),[]),"../data/stories/midnight-confessions.json":()=>k(()=>import("./midnight-confessions-MnU_ZiMx.js"),[]),"../data/stories/moonlight-academy.json":()=>k(()=>import("./moonlight-academy-2BsM05ZW.js"),[]),"../data/stories/my-boss-is-a-cat.json":()=>k(()=>import("./my-boss-is-a-cat-zVeu5pXQ.js"),[]),"../data/stories/shadow-in-the-mirror.json":()=>k(()=>import("./shadow-in-the-mirror-BbHWNcqI.js"),[]),"../data/stories/summer-temptation.json":()=>k(()=>import("./summer-temptation-DjhhAf0J.js"),[]),"../data/stories/the-transfer-student.json":()=>k(()=>import("./the-transfer-student-Coo7-oQ5.js"),[])}),`../data/stories/${o}.json`,4);l(D.default),D.default&&a(o)}catch(D){console.error("Error loading story:",D),g("Story not found")}finally{m(!1)}})(),()=>{w()}),[o]),n?e.jsx("div",{className:_("min-h-screen bg-gradient-to-br flex items-center justify-center",...h.background?.split(" ")||[]),children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):S||!t?e.jsx("div",{className:_("min-h-screen bg-gradient-to-br flex items-center justify-center",...h.background?.split(" ")||[]),children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:S||"Story not found"}),e.jsx("button",{onClick:()=>u(-1),className:"px-6 py-2 bg-white/10 backdrop-blur-sm rounded-lg text-white hover:bg-white/20 transition-colors",children:"Go Back"})]})}):e.jsxs("div",{ref:V,className:_("min-h-screen bg-gradient-to-br relative",...h.background?.split(" ")||[]),style:{fontFamily:x.fontFamily},onScroll:R,onClick:R,children:[e.jsx("div",{className:_("fixed top-0 left-0 right-0 z-50 bg-black/70 backdrop-blur-md border-b border-white/10 transition-transform duration-300",p==="down"?"-translate-y-full":"translate-y-0"),children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>u(-1),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-300",children:["von ",t.author]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{text:M,className:"mr-2"}),e.jsx("button",{onClick:()=>j(t.id),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(q,{className:_("w-5 h-5",c?"fill-red-500 text-red-500":"text-white")})}),e.jsx("button",{onClick:()=>v(!b),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(L,{className:"w-5 h-5 text-white"})})]})]})})}),b&&e.jsxs("div",{className:"fixed top-20 right-4 left-4 sm:left-auto sm:right-4 z-50 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-4 sm:p-6 sm:w-80",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Lese-Einstellungen"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Schriftgröße"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>y(d=>({...d,fontSize:Math.max(12,d.fontSize-2)})),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(J,{className:"w-4 h-4 text-white"})}),e.jsxs("span",{className:"text-white font-medium w-12 text-center",children:[x.fontSize,"px"]}),e.jsx("button",{onClick:()=>y(d=>({...d,fontSize:Math.min(28,d.fontSize+2)})),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(U,{className:"w-4 h-4 text-white"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Schriftart"}),e.jsxs("select",{value:x.fontFamily,onChange:d=>y(D=>({...D,fontFamily:d.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"Inter",className:"bg-gray-800",children:"Inter (Standard)"}),e.jsx("option",{value:"Georgia",className:"bg-gray-800",children:"Georgia (Serif)"}),e.jsx("option",{value:"Crimson Pro",className:"bg-gray-800",children:"Crimson Pro (Elegant)"}),e.jsx("option",{value:"ui-monospace",className:"bg-gray-800",children:"Monospace"})]})]}),e.jsxs("div",{className:"mb-6 p-3 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Atmosphäre Effekte"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Dynamisches Theming"}),e.jsx("input",{type:"checkbox",checked:s.enableDynamicTheming,onChange:d=>r({...s,enableDynamicTheming:d.target.checked}),className:"w-4 h-4 text-purple-600 bg-white/10 border-white/20 rounded"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Partikel Effekte"}),e.jsx("input",{type:"checkbox",checked:s.enableParticles,onChange:d=>r({...s,enableParticles:d.target.checked}),className:"w-4 h-4 text-purple-600 bg-white/10 border-white/20 rounded"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Effekt Intensität: ",Math.round(s.intensity*100),"%"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:s.intensity,onChange:d=>r({...s,intensity:Number(d.target.value)}),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-black/30 rounded text-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Aktuelle Stimmung: "}),e.jsx("span",{className:_("text-xs font-medium",...h.accent?.split(" ")||[]),children:h.mood==="romantic"?"💕 Romantisch":h.mood==="mysterious"?"🌙 Mysteriös":h.mood==="adventure"?"⚡ Abenteuer":h.mood==="dramatic"?"🎭 Dramatisch":h.mood==="fantasy"?"✨ Fantasy":"🎯 Modern"})]})]}),e.jsx("button",{onClick:()=>v(!1),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Schließen"})]}),b&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/20",onClick:()=>v(!1)}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 pt-24 pb-8",children:e.jsx("div",{className:"space-y-8 sm:space-y-12",children:t.chapters.map((d,D)=>{const A=d.content.join(" ");return e.jsxs("div",{"data-chapter":d.id,className:_("p-4 sm:p-6 rounded-lg bg-white/5 backdrop-blur-sm border",...h.border?.split(" ")||[]),onMouseEnter:()=>{I(A),f(d.id,d.content.length*50)},children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2 flex-wrap",children:[e.jsx("span",{className:"text-xl sm:text-2xl",children:d.emoji||"📖"}),e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:["Kapitel ",d.id,": ",d.title]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsxs("span",{children:["~",d.content.length*50," Wörter"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsxs("span",{children:[Math.ceil(d.content.length*50/200)," Min. Lesezeit"]})]})]})]}),e.jsx("div",{className:"prose prose-invert max-w-none",children:d.content.map((z,H)=>e.jsx("p",{className:"mb-4 leading-relaxed text-gray-200",style:{fontSize:`${x.fontSize}px`},children:z},H))})]},d.id)})})}),e.jsx(pe,{onSettingsToggle:()=>v(!b),onFavoriteToggle:()=>j(t.id),isReading:!0})]})};export{ve as default};
